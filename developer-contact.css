/* =======================
   Developer Contact Modal Styles - Lightweight (same look)
   ======================= */

/* ------- Overlay ------- */
.modal-overlay {
  position: fixed;
  inset: 0;
  /* إبقاء نفس درجة التعتيم تقريباً بدون blur */
  background: rgba(0, 0, 0, 0.75);
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  /* حصر الانتقال لتقليل الكلفة */
  transition: opacity .18s ease, visibility .18s ease;
  padding: 20px;
}

.modal-overlay.active {
  opacity: 1;
  visibility: visible;
}

/* ------- Container ------- */
.modal-container {
  /* نفس الخلفية والحدود من متغيراتك */
  background: var(--gradient-card);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-2xl);
  /* ظل أخف قليلاً لتقليل التكلفة مع الحفاظ على الإحساس */
  box-shadow: var(--shadow-lg);
  max-width: 500px;
  width: 100%;
  max-height: 85vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  /* حركة خفيفة فقط على المحور Y (بدون scale) */
  transform: translateY(10px);
  transition: transform .18s ease, opacity .18s ease;
  opacity: 0;
}

.modal-overlay.active .modal-container {
  transform: translateY(0);
  opacity: 1;
}

/* ------- Header ------- */
.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-lg);
  border-bottom: 1px solid var(--border-primary);
  flex-shrink: 0;
}

.modal-title {
  display: flex;
  align-items: center;
  gap: var(--space-md);
}

.modal-icon {
  font-size: var(--font-size-xl);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: var(--gradient-brand);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
}

.modal-title h3 {
  font-size: var(--font-size-lg);
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
}

.modal-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  background: var(--bg-tertiary);
  border: 1px solid var(--border-secondary);
  border-radius: var(--radius-md);
  color: var(--text-tertiary);
  cursor: pointer;
  transition: background-color .15s ease, border-color .15s ease, color .15s ease;
  outline: none;
}

.modal-close:hover {
  background: var(--bg-error);
  color: #fff;
  border-color: var(--bg-error);
}

.close-icon {
  font-size: var(--font-size-base);
  font-weight: bold;
}

/* ------- Body ------- */
.modal-body {
  padding: var(--space-lg);
  display: flex;
  flex-direction: column;
  gap: var(--space-lg);
  overflow-y: auto;
  flex: 1;
  /* شريط تمرير خفيف */
  scrollbar-width: thin;
  scrollbar-color: var(--border-secondary) transparent;
}

.modal-body::-webkit-scrollbar { width: 6px; }
.modal-body::-webkit-scrollbar-track { background: transparent; }
.modal-body::-webkit-scrollbar-thumb {
  background: var(--border-secondary);
  border-radius: 3px;
}

/* ------- Developer Card ------- */
.developer-info-card {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  padding: var(--space-md);
  background: var(--bg-tertiary);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-lg);
}

.dev-avatar {
  font-size: var(--font-size-2xl);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 50px;
  height: 50px;
  background: var(--gradient-brand);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
}

.dev-details h4 {
  font-size: var(--font-size-base);
  font-weight: 700;
  color: var(--text-primary);
  margin: 0 0 2px 0;
}

.dev-details p {
  font-size: var(--font-size-sm);
  color: var(--text-tertiary);
  margin: 0;
}

/* ------- Form ------- */
.contact-form { display: flex; flex-direction: column; gap: var(--space-md); }
.form-section { display: flex; flex-direction: column; gap: var(--space-sm); }
.form-label { font-size: var(--font-size-sm); font-weight: 600; color: var(--text-secondary); }

.contact-input,
.contact-select,
.contact-textarea {
  width: 100%;
  padding: var(--space-md);
  background: var(--bg-input);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-md);
  color: var(--text-primary);
  font-size: var(--font-size-sm);
  font-family: inherit;
  transition: border-color .15s ease, box-shadow .15s ease, background-color .15s ease;
  outline: none;
}

.contact-input:focus,
.contact-select:focus,
.contact-textarea:focus {
  border-color: var(--border-accent);
  box-shadow: 0 0 0 2px rgba(59,130,246, .1);
  background: var(--bg-card);
}

.contact-textarea { resize: vertical; min-height: 80px; line-height: 1.5; }
.contact-select { cursor: pointer; }

.char-counter {
  text-align: left;
  font-size: var(--font-size-xs);
  color: var(--text-tertiary);
  margin-top: var(--space-xs);
}

/* ------- Version ------- */
.app-version {
  display: flex; justify-content: space-between; align-items: center;
  padding: var(--space-sm) var(--space-md);
  background: var(--bg-secondary);
  border: 1px solid var(--border-primary);
  border-radius: var(--radius-md);
}

.version-label {
  font-size: var(--font-size-xs);
  color: var(--text-tertiary);
  font-weight: 600;
}

.version-value {
  font-size: var(--font-size-xs);
  color: var(--text-accent);
  font-weight: 700;
}

/* ------- Footer ------- */
.modal-footer {
  display: flex;
  gap: var(--space-md);
  padding: var(--space-lg);
  border-top: 1px solid var(--border-primary);
  justify-content: flex-end;
  flex-shrink: 0;
}

.btn-secondary,
.btn-primary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-sm);
  padding: var(--space-sm) var(--space-lg);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  font-weight: 600;
  cursor: pointer;
  transition: transform .12s ease, opacity .12s ease, box-shadow .12s ease, background-color .12s ease;
  outline: none;
  border: none;
  min-width: 100px;
}

.btn-secondary {
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  border: 1px solid var(--border-secondary);
}

.btn-secondary:hover {
  background: var(--bg-card-hover);
  color: var(--text-primary);
}

.btn-primary {
  background: var(--gradient-button);
  color: #fff;
  box-shadow: var(--shadow-sm);
}

.btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-md);
}

.btn-primary:disabled {
  opacity: .6;
  cursor: not-allowed;
  transform: none;
}

/* ------- Spinner ------- */
.btn-spinner { animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

/* ------- Toast (خفيف) ------- */
.toast-notification {
  position: fixed;
   top: auto;
   right: 16px;
    bottom: 16px; 
  background: var(--gradient-card);
  border: 1px solid var(--border-success);
  border-radius: var(--radius-lg);
 pointer-events: none;
  box-shadow: var(--shadow-lg);
  padding: var(--space-md);
  z-index: 10001;
  transform: translateX(350px);
  opacity: 0;
  transition: transform .18s ease, opacity .18s ease;
}

.toast-notification.show {
      pointer-events: auto;
  transform: translateX(0);
  opacity: 1;
}

.toast-content { display: flex; align-items: center; gap: var(--space-sm); }

.toast-icon {
  font-size: var(--font-size-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px; height: 32px;
  background: var(--bg-success);
  border-radius: var(--radius-md);
}

.toast-title {
  font-size: var(--font-size-sm);
  font-weight: 700;
  color: var(--text-primary);
  margin: 0;
}

.toast-desc {
  font-size: var(--font-size-xs);
  color: var(--text-tertiary);
  margin: 2px 0 0 0;
}

/* ------- Contact Button (كما هو) ------- */
.contact-btn {
  display: inline-flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-sm) var(--space-md);
  background: var(--bg-tertiary);
  border: 1px solid var(--border-secondary);
  border-radius: var(--radius-lg);
  color: var(--text-accent);
  font-size: var(--font-size-xs);
  font-weight: 600;
  cursor: pointer;
  transition: transform .12s ease, background-color .12s ease, border-color .12s ease;
  outline: none;
  text-decoration: none;
}

.contact-btn:hover {
  background: rgba(59,130,246, .1);
  border-color: var(--border-accent);
  transform: translateY(-1px);
}

.contact-btn-icon { font-size: var(--font-size-sm); }


/* نمط عام للشارة إن لم يكن موجودًا */
.version-badge {
  display: inline-flex;
  align-items: center;
  font-weight: 800;
  padding: 6px 10px;
  border: 1px solid var(--border, rgba(255,255,255,.18));
  border-radius: 12px;
}

/* على الديسكتوب: عادي */
.header-actions {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* موبايل: اجعلهم على سطر واحد، زر المطوّر على يمين الشارة */
@media (max-width: 600px) {
  .header-actions {
    flex-direction: row;          /* صف واحد */
    align-items: center;
    gap: 8px;
  }

  /* إظهار الأيقونة فقط في الموبايل */
  #contactDeveloperBtn .contact-btn-label {
    display: none;
  }

  /* تصغير مساحة الزر ليصبح بحجم أيقونة */
  #contactDeveloperBtn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 1px;
    min-width: auto;
    width: 40px;
    height: 30px;
    border-radius: 12px;
  }

  #contactDeveloperBtn .contact-btn-icon {
    font-size: 15px;
    line-height: 1;
    margin: 0;
  }

  /* لو اتجاه الصفحة RTL (عربي): ضع زر المطوّر قبل الشارة ليظهر على يمينها بصريًا */
  [dir="rtl"] .header-actions {
    direction: rtl;
  }
  [dir="rtl"] #contactDeveloperBtn { order: 1; }
  [dir="rtl"] .version-badge      { order: 2; }

  /* لو الصفحة LTR: اعكس الترتيب */
  [dir="ltr"] #contactDeveloperBtn { order: 2; }
  [dir="ltr"] .version-badge      { order: 1; }
}


/* ------- Mobile ------- */
@media (max-width: 640px) {
  .modal-overlay { padding: 10px; }
  .modal-container { max-height: 90vh; }
  .modal-header, .modal-body, .modal-footer { padding: var(--space-md); }
  .modal-footer { flex-direction: column; }

  .developer-info-card {
    flex-direction: column;
    text-align: center;
    gap: var(--space-sm);
  }

  .toast-notification {
    right: 10px; left: 10px;
    transform: translateY(-50px);
  }
  .toast-notification.show { transform: translateY(0); }
}

/* ------- Respect Reduced Motion ------- */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; }
}


.modal-overlay { pointer-events: auto; }
.modal-container { pointer-events: auto; }


/* على الشاشات الصغيرة خله أسفل اليسار بعيد عن زر الإغلاق */
@media (max-width: 480px) {
  .toast-notification {
    right: auto;
    left: 12px;
    bottom: 12px;
  }
}

/* الوضع الافتراضي (كمبيوتر): الزر بالنص الكامل */
.is-desktop #contactDeveloperBtn .contact-btn-label { display: inline; }
.is-desktop #contactDeveloperBtn {
  padding: 8px 14px;
  width: auto; height: auto;
}

/* موبايل (لمس): أيقونة فقط + بمحاذاة يمين شارة الإصدار */
.is-touch .header-actions { 
  display: flex; flex-direction: row; align-items: center; gap: 8px;
  /* اتجاه RTL لضمان ظهور الزر على يمين الشارة */
  direction: rtl;
}
.is-touch #contactDeveloperBtn .contact-btn-label { display: none; }

.is-touch #contactDeveloperBtn {
  display: inline-flex; align-items: center; justify-content: center;
  width: 36px; height: 36px; padding: 6px; border-radius: 12px;
  min-width: 36px;
}
.is-touch #contactDeveloperBtn .contact-btn-icon { font-size: 18px; line-height: 1; }

/* شارة الإصدار تبقى نصية */
.version-badge {
  display: inline-flex; align-items: center;
  font-weight: 800; padding: 6px 10px; border-radius: 12px;
  border: 1px solid var(--border, rgba(255,255,255,.18));
}
